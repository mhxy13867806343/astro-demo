/* empty css                                */
import { c as createComponent, g as renderComponent, e as renderScript, f as renderTemplate, m as maybeRenderHead, b as addAttribute } from '../chunks/astro/server_29rhiiAS.mjs';
import 'kleur/colors';
import { $ as $$Layout } from '../chunks/Layout_DpSF7Foi.mjs';
import { a as fetchHeroList } from '../chunks/api_DBlh3NCm.mjs';
export { r as renderers } from '../chunks/internal_BsTt5pTQ.mjs';

const $$Index = createComponent(async ($$result, $$props, $$slots) => {
  const heroList = await fetchHeroList();
  const roleCounts = {
    All: heroList.length,
    Fighter: heroList.filter((hero) => hero.roles?.includes("fighter")).length,
    Mage: heroList.filter((hero) => hero.roles?.includes("mage")).length,
    Assassin: heroList.filter((hero) => hero.roles?.includes("assassin")).length,
    Tank: heroList.filter((hero) => hero.roles?.includes("tank")).length,
    Marksman: heroList.filter((hero) => hero.roles?.includes("marksman")).length,
    Support: heroList.filter((hero) => hero.roles?.includes("support")).length
  };
  const formatCount = (count) => count > 1 ? `(${count})` : "";
  return renderTemplate`${renderComponent($$result, "Layout", $$Layout, { "title": "\u82F1\u96C4\u8054\u76DF - \u82F1\u96C4\u5217\u8868" }, { "default": async ($$result2) => renderTemplate`  ${maybeRenderHead()}<div id="favorites-modal" class="fixed inset-0 bg-black/70 z-50 hidden"> <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 max-w-lg bg-gray-800 rounded-lg shadow-xl overflow-hidden"> <div class="p-4 border-b border-gray-700 flex justify-between items-center"> <h3 class="text-xl font-bold text-white">收藏的英雄</h3> <button id="close-favorites" class="text-gray-400 hover:text-white"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> </div> <div class="p-4 max-h-96 overflow-y-auto"> <div id="favorites-list" class="grid grid-cols-2 sm:grid-cols-3 gap-4"> <!-- 收藏的英雄将在这里显示 --> </div> <div id="no-favorites" class="text-center py-8 text-gray-400">
您还没有收藏任何英雄。
</div> </div> </div> </div> <main class="container mx-auto px-4 py-8"> <div class="flex justify-between items-center mb-8"> <h1 class="text-3xl font-bold">英雄资料</h1> <button id="show-favorites" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path> </svg> <span>我的收藏</span> <span id="favorites-count" class="bg-white text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold">0</span> </button> </div> <!-- 英雄筛选区域 --> <div class="mb-6 space-y-4"> <!-- 搜索框 --> <div> <input type="text" id="hero-search" placeholder="搜索英雄名称、称号或关键词" class="w-full px-4 py-2 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"> </div> <!-- 英雄类型筛选 --> <div class="flex flex-wrap gap-2"> <button class="role-filter-btn bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-700 transition-colors" data-sort="All"> <span class="flex items-center gap-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path> </svg> <span>所有英雄 ${formatCount(roleCounts.All)}</span> </span> </button> <button class="role-filter-btn bg-gray-700 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-600 transition-colors" data-sort="Fighter"> <span class="flex items-center gap-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.5 3.5A4.5 4.5 0 0113 8a4.5 4.5 0 01-4.5 4.5A4.5 4.5 0 014 8a4.5 4.5 0 014.5-4.5z"></path> </svg> <span>战士 ${formatCount(roleCounts.Fighter)}</span> </span> </button> <button class="role-filter-btn bg-gray-700 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-600 transition-colors" data-sort="Mage"> <span class="flex items-center gap-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path> </svg> <span>法师 ${formatCount(roleCounts.Mage)}</span> </span> </button> <button class="role-filter-btn bg-gray-700 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-600 transition-colors" data-sort="Assassin"> <span class="flex items-center gap-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path> </svg> <span>刺客 ${formatCount(roleCounts.Assassin)}</span> </span> </button> <button class="role-filter-btn bg-gray-700 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-600 transition-colors" data-sort="Tank"> <span class="flex items-center gap-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path> </svg> <span>坦克 ${formatCount(roleCounts.Tank)}</span> </span> </button> <button class="role-filter-btn bg-gray-700 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-600 transition-colors" data-sort="Marksman"> <span class="flex items-center gap-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"></path> </svg> <span>射手 ${formatCount(roleCounts.Marksman)}</span> </span> </button> <button class="role-filter-btn bg-gray-700 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-600 transition-colors" data-sort="Support"> <span class="flex items-center gap-1"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path> </svg> <span>辅助 ${formatCount(roleCounts.Support)}</span> </span> </button> </div> </div> <!-- 搜索结果为空提示 --> <div id="no-results" class="hidden w-full py-16 text-center"> <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> <h3 class="mt-4 text-xl font-medium text-gray-400">没有找到符合条件的英雄</h3> <p class="mt-2 text-gray-500">请尝试其他搜索关键词或选择不同的英雄类型</p> </div> <!-- 英雄列表 --> <div id="hero-list" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mt-8"> ${heroList.map((hero) => renderTemplate`<div class="hero-card-wrapper relative group"> <a${addAttribute(`/heroes/${hero.heroId}`, "href")} class="hero-card block bg-gray-800 rounded-lg overflow-hidden transition-transform hover:scale-105 hover:shadow-lg"${addAttribute(hero.name, "data-name")}${addAttribute(hero.title, "data-title")}${addAttribute(hero.keywords, "data-tags")}${addAttribute(hero.roles?.map((role) => role.charAt(0).toUpperCase() + role.slice(1)).join(","), "data-sort")}${addAttribute(hero.heroId, "data-hero-id")}> <div class="relative"> <div class="hero-image-container w-full aspect-square relative overflow-hidden"> <div class="hero-image-loading absolute inset-0 bg-gray-700 animate-pulse"></div> <img${addAttribute(hero.avatar, "src")}${addAttribute(hero.name, "alt")} class="w-full h-full object-cover opacity-0 transition-opacity duration-300" loading="lazy" onload="this.classList.remove('opacity-0'); this.previousElementSibling.classList.add('opacity-0');"> </div> <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2"> <h3 class="text-white text-sm font-bold truncate">${hero.name}</h3> <p class="text-gray-300 text-xs truncate">${hero.title}</p> </div> </div> </a> <button class="favorite-btn absolute top-2 right-2 w-8 h-8 rounded-full bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10"${addAttribute(hero.heroId, "data-hero-id")}${addAttribute(hero.name, "data-hero-name")}${addAttribute(hero.avatar, "data-hero-avatar")} title="收藏英雄"> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300 favorite-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path> </svg> </button> </div>`)} </div> </main> ` })} ${renderScript($$result, "/Users/hooksvue/Desktop/astro-demo/src/pages/heroes/index.astro?astro&type=script&index=0&lang.ts")}`;
}, "/Users/hooksvue/Desktop/astro-demo/src/pages/heroes/index.astro", void 0);

const $$file = "/Users/hooksvue/Desktop/astro-demo/src/pages/heroes/index.astro";
const $$url = "/heroes";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Index,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
